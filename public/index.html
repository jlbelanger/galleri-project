<!doctype html>
<html class="no-js" lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>Robroy Photo Gallery Demo</title>
		<link rel="stylesheet" href="/css/dark.min.css">
		<script>document.documentElement.classList.remove('no-js');</script>
	</head>
	<body>
		<main>
			<header id="header">
				<div class="contain" id="header-inner">
					<a href="/" id="title">Robroy Photo Gallery Demo</a>
					<button class="robroy-button robroy-button--secondary robroy-button-authenticate" data-action="authenticate" type="button"></button>
				</div>
			</header>
			<article>
				<noscript>You need to enable JavaScript to run this app.</noscript>
				<div class="contain" id="robroy"></div>
			</article>
			<footer id="footer">
				<div class="contain" id="footer-inner">
					<p><a href="https://github.com/jlbelanger/robroy/">Robroy Photo Gallery</a></p>
				</div>
			</footer>
		</main>
		<div class="robroy-spinner" role="alert">Loading...</div>
		<script src="/js/robroy.min.js"></script>
		<script src="https://unpkg.com/fslightbox@3.1.0/index.js" integrity="sha384-HpFPRJTv1hMt/0XGUpq+/fMLpT+t4E8MwBd77nggUDvbEuBGnv5TV+ZIxW0TvHfX" crossorigin="anonymous"></script>
		<script>
		Robroy.default.init({
			apiFoldersPath: '/json/folders.json',
			apiImagesPath: '/json/images.json',
			apiPath: '/api.php',

			callbacks: {
				afterCreateImage: ({ image }) => { refreshFsLightbox(); },
				afterCreateFolder: ({ folder }) => {},
				afterDeleteImage: ({ id }) => { refreshFsLightbox(); },
				afterDeleteFolder: ({ id }) => {},
				afterEditFolder: ({ folder }) => {},
				afterEditImage: ({ image }) => { refreshFsLightbox(); },
				afterLoadImage: ({ element }) => {},
				afterLoadImages: ({ images }) => { refreshFsLightbox(); },
				afterLoadFolder: ({ folder }) => {},
				afterLogin: () => {},
				afterLogout: () => {},
				afterUpdateImage: ({ element, image }) => {},
			},

			enableGrid: true,
			enableRewrites: true,
			folderItemElement: 'li',
			folderSeparator: ' > ',
			imageItemElement: 'figure',
			localStorageKey: 'authenticated',
			metaTitleSeparator: ' | ',

			modifiers: {
				adminBar: ({ element }) => {},
				breadcrumbList: ({ element, folder }) => {},
				breadcrumbItem: ({ element, folder }) => {},
				folderItem: ({ element, folder }) => {},
				folderForm: ({ addField, container, form }) => {},
				folderCreateForm: ({ addField, form }) => {},
				folderEditForm: ({ addField, form }) => {},
				imageCreateForm: ({ addField, form }) => {},
				imageEditForm: ({ addField, container, form }) => {},
				imageItem: ({ element }) => {
					element.querySelector('a').setAttribute('data-fslightbox', true);
				},
				modal: ({ element }) => {},
				spinner: ({ element }) => {},
				title: ({ element, title }) => {},
				toast: ({ element }) => {},
			},

			pageSize: 8,
			removePointerEventsOnLogin: false,
			selector: '#robroy',
			showAllImages: false,
		});
		</script>
	</body>
</html>
